# **ğŸ“Œ Updating Data in MongoDB**  
MongoDB provides multiple methods to update documents:  
- `updateOne()` â†’ Updates a **single** matching document  
- `updateMany()` â†’ Updates **multiple** matching documents  
- `replaceOne()` â†’ Replaces an entire document  

---

## **1ï¸âƒ£ Update a Single Document (`updateOne`)**
Modifies the **first matching document**.

### **Example: Update a User's Age**
```js
db.users.updateOne(
  { name: "Alice" },          // Filter condition
  { $set: { age: 28 } }       // Update operation
)
```
ğŸ”¹ **Updates the `age` field of "Alice" to 28**  

---

## **2ï¸âƒ£ Update Multiple Documents (`updateMany`)**
Modifies **all matching documents**.

### **Example: Increase Age of All Users from "Delhi"**
```js
db.users.updateMany(
  { city: "Delhi" },
  { $inc: { age: 2 } }         // Increase age by 2
)
```
ğŸ”¹ **Increases the `age` field by 2 for all users in "Delhi"**  

---

## **3ï¸âƒ£ Replace an Entire Document (`replaceOne`)**
Replaces the entire document **except `_id`**.

### **Example: Replace a User's Data**
```js
db.users.replaceOne(
  { name: "Alice" },         // Filter condition
  { name: "Alice", age: 30, city: "Mumbai" } // New document
)
```
ğŸ”¹ **Replaces Alice's document with new data**  

---

## **4ï¸âƒ£ Using Multiple Update Operators**
You can use **multiple update operators** together.

### **Example: Update Name & Increase Age**
```js
db.users.updateOne(
  { name: "Bob" },
  { 
    $set: { name: "Bobby" }, 
    $inc: { age: 1 } 
  }
)
```
ğŸ”¹ **Renames "Bob" to "Bobby" and increases `age` by 1**  

---

## **5ï¸âƒ£ Add/Remove Fields (`$set`, `$unset`)**
ğŸ”¹ **Add a new field**  
```js
db.users.updateOne(
  { name: "Alice" },
  { $set: { email: "alice@example.com" } }
)
```
ğŸ”¹ **Remove a field (`$unset`)**  
```js
db.users.updateOne(
  { name: "Alice" },
  { $unset: { email: "" } }
)
```

---

## **6ï¸âƒ£ Updating Arrays**
ğŸ”¹ **Add a value to an array (`$push`)**  
```js
db.users.updateOne(
  { name: "Alice" },
  { $push: { skills: "MongoDB" } }
)
```
ğŸ”¹ **Remove a value from an array (`$pull`)**  
```js
db.users.updateOne(
  { name: "Alice" },
  { $pull: { skills: "React" } }
)
```
ğŸ”¹ **Update a specific array element**  
```js
db.users.updateOne(
  { name: "Alice", "skills": "Node.js" },
  { $set: { "skills.$": "Express.js" } }
)
```
---

## **7ï¸âƒ£ Upsert (Update if Exists, Insert if Not)**
Use `"upsert": true` to **insert a new document** if no match is found.

```js
db.users.updateOne(
  { name: "David" },
  { $set: { age: 35, city: "London" } },
  { upsert: true }
)
```
ğŸ”¹ **If "David" exists â†’ Updates his data**  
ğŸ”¹ **If "David" does not exist â†’ Creates a new document**  

---

## **ğŸ¯ Conclusion**
âœ… `updateOne()` â†’ Updates **first** matching document  
âœ… `updateMany()` â†’ Updates **multiple** documents  
âœ… `replaceOne()` â†’ Replaces an **entire document**  
âœ… **Use `$set`, `$unset`, `$push`, `$pull`, `$inc`** for flexible updates  
âœ… **Use `upsert: true` for inserting if missing**  

Would you like **real-world examples**?